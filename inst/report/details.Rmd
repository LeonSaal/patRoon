Details
===

<script>
`r readAllFile(system.file("js", "utils-report-new.js", package = "patRoon"))`
</script>

<style>
/* HACK: to make expander button visible on both dark and light backgrounds */
.rt-expander:after {
    border-top-color: dodgerblue;
}
</style>

##

```{r, echo = FALSE,eval=TRUE}
bslib::layout_column_wrap(
    width = 1,
    height = "100%",
    style = "padding-bottom: 10px; padding-right: 10px;",
    bslib::card(
        full_screen = TRUE,
        bslib::card_header("Feature groups"),
        bslib::card_body(
            class = "mt-2",
            htmltools::HTML('
<div class="pb-1">
    <label for="view-select">View:</label>
    <select name="view" id="view-select" onChange="updateView(this.value)" style="margin-right: 10px; margin-top: 3px;">
        <option value="Plain">Plain</option>
        <option value="Suspects">Suspects</option>
        <option value="Components">Components</option>
        <option value="TPs">Transformation products</option>
    </select>

    <input type="checkbox" id="feat-cols-info" onChange="showFeatCols(&quot;group&quot;, !this.checked)" checked>
    <label for="feat-cols-info">Group info</label>
    <input type="checkbox" id="feat-cols-int" onChange="showFeatCols(&quot;intensities&quot;, !this.checked)" checked>
    <label for="feat-cols-int">Intensities</label>
    <input type="checkbox" id="feat-cols-qual" onChange="showFeatCols(&quot;qualities&quot;, !this.checked)">
    <label for="feat-cols-qual">Quality scores</label>
    <input type="checkbox" id="feat-large-chroms" onChange="showFeatCols(&quot;chrom_large&quot;, !this.checked)">
    <label for="feat-large-chroms" style="margin-right: 10px;">Large chromatograms</label>

    <button type="button" class="btn btn-primary btn-sm" onClick="Reactable.downloadDataCSV(getSelFeatTableElement())">Download CSV</button>
    <button type="button" class="btn btn-primary btn-sm" id="feat-expand" onClick="Reactable.toggleAllRowsExpanded(getSelFeatTableElement())" style="display: none;">Expand/collapse</button>

    <div class="float-right">
        <label for="feat-search">Search</label>
        <input type="text" id="feat-search" oninput="Reactable.setSearch(getSelFeatTableElement(), this.value)">
    </div>
</div>
')),
        bslib::card_body_fill(
            generator$genFeatTablePlain(),
            generator$genFeatTableSuspects(),
            generator$genFeatTableComponents(),
            generator$genFeatTableTPs()
        ),
    ),
    bslib::layout_column_wrap(
        width = NULL,
        style = htmltools::css(grid_template_columns = "1fr 2fr"),
        heights_equal = "row",
        bslib::navs_tab_card(
            title = "Selected parent",
            full_screen = TRUE,
            bslib::nav(
                "Chromatogram",
                bslib::card_body_fill(htmltools::img(id = "chrom_view"))
            ),
            bslib::nav(
                "Suspect",
                bslib::card_body_fill(htmltools::img(id = "struct_view"))
            ),
            bslib::nav(
                "Transformations",
                bslib::card_body_fill(generator$genTPGraphs())
            )
        ),
        bslib::navs_tab_card(
            title = "Selected feature group",
            full_screen = TRUE,
            bslib::nav(
                "Compounds",
                bslib::card_body_fill(generator$genCompoundTable())
            ),
            bslib::nav(
                "More things",
                bslib::card_body_fill("har")
            )
        )
    )
)
```
